import"./main-ae18ecca.js";const b=[{id:"3b7860f0-91f7-4c54-a2db-eb34cdeb02b7",name:"Gasolina",price:569,cc_for_unit:.2},{id:"6921ea3a-1f91-44cc-84b9-f61957284fe8",name:"Gasolina Aditivada",price:669,cc_for_unit:.2},{id:"fc6ba16e-43d0-409e-adc5-aed0512324a5",name:"Etanol",price:399,cc_for_unit:1},{id:"b6d4f7b4-5c9e-4b1b-9b6b-1b5f3d5d0b3f",name:"Diesel S10",price:399,cc_for_unit:1.5},{id:"c9f3a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"Diesel S500",price:359,cc_for_unit:1.5},{id:"d3f7a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"GNV",price:299,cc_for_unit:1.5},{id:"e3f7a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"Diesel S20",price:419,cc_for_unit:1.5},{id:"f3f7a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"Diesel S50",price:379,cc_for_unit:1.5},{id:"g3f7a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"Diesel S5000",price:339,cc_for_unit:1.5},{id:"h3f7a5d2-7c5e-4e9c-8f9f-9c5d3b8b2f3d",name:"Diesel S1800",price:299,cc_for_unit:1.5}];function d(e){return e/100}class n{constructor(i,t,a,r){this.id=i,this.quantidade=t,this.valor=a,this.cc_for_unit=r}}function v(e){return`<div id="card" data-product_id="${e.id}" class="shadow-inner rounded-lg space-y-8 mx-auto mb-4">
      <div id="tipo-preco" class="flex m-4 justify-between">
          <p class="font-semibold text-2xl">${e.name}</p>
          <p>R$ ${d(e.price)}/Litro</p>
      </div>
      <div class="flex space-x-8 mx-4 justify-between flex-wrap">
          <div class="space-y-2">
              <p class="text-md">Litros (L)</p>
              <input type="number" step="0.01" min="0" oninput="onChangeInputLitro(event, ${d(e.price)})" class="border-[--gasify-cinza] border-2 rounded-md p-2 " id="quantidade" placeholder="0"/>
              <div id="alertDiv-litro" class="alertDiv text-red-500 self-center mb-2 hidden"></div>
          </div>
          <div class="space-y-2">
              <p class="text-md">Valor (R$)</p>
              <input type="number" step="0.01" min="0" oninput="onChangeInputValor(event, ${d(e.price)})" class="border-[--gasify-cinza] border-2 rounded-md p-2" id="valor" placeholder="0,00"/>
              <div id="alertDiv-valor" class="alertDiv text-red-500 self-center mb-2 hidden"></div>
          </div>
      </div>
      <div id="cc-value" data-cc_for_unit="${e.cc_for_unit}" class="transition bg-[--gasify-cinza] w-[100%] mt-2 text-white text-center font-medium p-1 rounded-bl-md rounded-br-md">
          + ${e.cc_for_unit} CC por litro!
      </div></div>`}window.onChangeInputLitro=(e,i)=>{const t=e.target.closest("#card"),a=Number(e.target.value);if(a<0){e.target.classList.add("border-red-500"),s(t.querySelector("#alertDiv-litro"),"Insira uma quantidade válida!");return}else e.target.classList.remove("border-red-500"),t.querySelector("#valor").classList.remove("border-red-500"),l(t);const r=t.querySelector("#valor"),c=a*i;r.value=c.toFixed(2),u(t,a),f(new n(t.dataset.product_id,a,c,Number(t.querySelector("#cc-value").dataset.cc_for_unit)))};window.onChangeInputValor=(e,i)=>{const t=e.target.closest("#card"),a=Number(e.target.value);if(a<0){e.target.classList.add("border-red-500"),s(t.querySelector("#alertDiv-valor"),"Insira um valor válido!");return}else e.target.classList.remove("border-red-500"),t.querySelector("#quantidade").classList.remove("border-red-500"),l(t);const r=t.querySelector("#quantidade"),c=a/i;r.value=c.toFixed(2),u(e.target.closest("#card"),c),f(new n(t.dataset.product_id,c,a,Number(t.querySelector("#cc-value").dataset.cc_for_unit)))};function s(e,i){e.classList.remove("hidden"),e.textContent=`⚠ ${i}`}function o(e){e.classList.add("hidden"),e.textContent=""}function l(e){o(e.querySelector("#alertDiv-litro")),o(e.querySelector("#alertDiv-valor"))}function u(e,i=0){const t=e.querySelector("#cc-value"),a=Number(t.dataset.cc_for_unit),r=a*i;r>0?(e.querySelector("#cc-value").textContent=`+ ${r.toFixed(2)} CC`,t.classList.remove("bg-[--gasify-cinza]"),t.classList.add("bg-[--gasify-verde]")):(r<=0||i<0)&&(e.querySelector("#cc-value").textContent=`+ ${a.toFixed(2)} CC por litro!`,t.classList.remove("bg-[--gasify-verde]"),t.classList.add("bg-[--gasify-cinza]"))}(()=>{const e=document.querySelector("#card-combustiveis");e.innerHTML=b.map(v).join(""),window.localStorage.setItem("@gasify-carrinho",JSON.stringify([]))})();function f(e){const i=JSON.parse(window.localStorage.getItem("@gasify-carrinho"));if(i&&i.find(r=>r.id===e.id)){let r=i.findIndex(c=>c.id===e.id);e.quantidade===0?i.splice(r,1):i[r]=e}else i.push(e);window.localStorage.setItem("@gasify-carrinho",JSON.stringify(i));const t=i.reduce((r,c)=>r+c.valor,0),a=i.reduce((r,c)=>r+c.cc_for_unit*c.quantidade,0);m(t),p(a)}function m(e){document.querySelector("#total").textContent=`R$ ${e.toFixed(2)}`}function p(e){document.querySelector("#total-cc-text").innerHTML=`${e.toFixed(2)} CC`}
